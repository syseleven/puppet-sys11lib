#!/bin/bash

# WARNING: This file is auto-generated by puppet!
# WARNING: To change it, edit the file in <%= file[/.*\/(.*?\/templates\/.*)/, 1] %>

##
## catch parameter
##
if [ "${1}" == '--clear-cache' ]; then
  clear_cache=' --clear-cache'
else
  clear_cache=''
fi

/usr/local/sbin/check_ssl_certificates${clear_cache}<% if @enable_autodetection == false -%> -A<% end -%>
<% if @blacklist_domains_file != '' -%> -B <%= @blacklist_domains_file %><% end -%>
<% if @blacklist_domains != '' -%><% if blacklist_domains.kind_of?(Array) -%><% blacklist_domains.each do |b| -%> -b <%= b %><% end -%><% else -%> -b <%= blacklist_domains %><% end -%><% end -%>
<% if @whitelist_domains_file != '' -%> -W <%= @whitelist_domains_file %><% end -%>
<% if @whitelist_domains != '' -%><% if whitelist_domains.kind_of?(Array) -%><% whitelist_domains.each do |w| -%> -w <%= w %><% end -%><% else -%> -w <%= whitelist_domains %><% end -%><% end -%>
<% if @blacklist_certificates_file != '' -%> -C <%= @blacklist_certificates_file %><% end -%>
<% if @blacklist_certificates != '' -%><% if blacklist_certificates.kind_of?(Array) -%><% blacklist_certificates.each do |c| -%> -c <%= c %><% end -%><% else -%> -c <%= blacklist_certificates %><% end -%><% end -%>
<% if @service != '' -%> -s <%= @service %><% end -%>
<% if @return_ok_when != 'A' -%> --ok-when '<%= return_ok_when %>'<% end -%>
<% if @return_warning_when != 'BC' -%> --warning-when '<%= return_warning_when %>'<% end -%>
<% if @return_critical_when != 'DEFT' -%> --critical-when '<%= return_critical_when %>'<% end -%>
<% if @ending_warning_limit != 21 -%> --ending-warning-limit <%= ending_warning_limit %><% end -%>
<% if @ending_critical_limit != 7 -%> --ending-critical-limit <%= ending_critical_limit %><% end -%>
<% if @skip_ip_check == true -%> --skip-ip-check<% end -%>
<% if @curl_recheck_runs != 5 -%> --curl-recheck-runs <%= curl_recheck_runs %><% end -%>
<% if @curl_recheck_interval != 10 -%> --recheck-status-interval <%= curl_recheck_interval %><% end -%>
<% if @curl_recheck_timeout != 300 -%> --recheck-status-timeout <%= curl_recheck_timeout %><% end -%>
<% if @cache_result_days != 7 -%> --result-cache-time <%= (@cache_result_days * 4) %><% end -%>

